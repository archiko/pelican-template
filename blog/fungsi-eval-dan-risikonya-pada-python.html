<!DOCTYPE html>
<html>
        <head>
                <title>
Fungsi eval dan risikonya pada python
		</title>
                <meta name="viewport" content="width=device-width, initial-scale=1">
                <link rel="shortcut icon" href="/favicon.ico?v=2">
                <link rel="preconnect" href="https://fonts.googleapis.com">
                <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
                <link href="https://fonts.googleapis.com/css2?family=Azeret+Mono&display=swap" rel="stylesheet">
                <link href="/theme/bootstrap/bootstrap.min.css" rel="stylesheet" integrity="sha384-KyZXEAg3QhqLMpG8r+8fhAXLRk2vvoC2f3B09zVXn8CA5QIVfZOJ3BCsw2P0p/We" crossorigin="anonymous">
                <link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css" integrity="sha384-AYmEC3Yw5cVb3ZcuHtOA93w35dYTsvhLPVnYs9eStHfGJvOvKxVfELGroGkvsg+p" crossorigin="anonymous"/>
                <link rel="stylesheet" href="/theme/css/style.css">
		<link rel="stylesheet" href="/theme/css/default.min.css">
		<link rel="stylesheet" href="/theme/css/nord.css">
		<!-- Google Adsense-->
		<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2149089797407520" crossorigin="anonymous"></script>

        </head>

<body style="background-color:#0e1111">
<div class="container p-3" id="zetmono">
<div class="navbar-nav">

        <small style="color:#80ED99;float:left;margin-top:13px;position:absolute" class="badge bg-dark" >cat *.md</small>
        <div class="nav-link ms-auto fas fa-bars fa-2x" href="#" id="dropdownMenuButton1" role="button" data-bs-toggle="dropdown" aria-expanded="false" style="color:#80ED99;float:right;"></div>

      <ul class="dropdown-menu dropdown-menu-end bg-dark p-3 " style="border-radius:10px" aria-labelledby="dropdownMenuButton1">
        <li><a class="bg-transparent dropdown-item" style="color:#80ED99;" href="/"><small>/Home</small></a></li>
        <li><a class="bg-transparent dropdown-item" style="color:#80ED99;"href="/blog"><small>/Blog</small></a></li>
        <li><a class="bg-transparent dropdown-item" style="color:#80ED99;" href="/about"><small>/About</small></a></li>
      </ul>

</div>
</div>

<div id="zetmono" class="container">


<img src="/thumb.webp" style="display:none">
<div class="text-white">
        <small class="text-secondary">04, Sep 2021 </small>
        <span style="text-decoration:none;color:white"><h2><b>Fungsi eval dan risikonya pada python</b></h2></span>
        <a href="/tag/python"><small class="badge bg-dark" style="color:white">python</small></a>
        <a href="/tag/module"><small class="badge bg-dark" style="color:white">module</small></a>
</div><br>

<div class="text-white">
<div class="highlight"><pre><span></span><code><span class="nb">eval</span><span class="p">(</span><span class="n">expression</span><span class="p">,</span> <span class="nb">globals</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="nb">locals</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</code></pre></div>

<p>Fungsi dari eval ini sendiri untuk memparsing atau merubah sebuah string menjadi sebuah sintaks murni python.</p>
<p>â€¢ paramater dalam fungsi eval()</p>
<p>expression - string<br>
globals (opsional) - dictionary<br>
locals (opsional) - dictionary</p>
<p>nah dalam kasus seperti apa, kita bisa menggunakan fungsi ini? oke</p>
<p>coba lihat contoh kode dibawah ini</p>
<div class="highlight"><pre><span></span><code><span class="n">a</span><span class="p">,</span><span class="n">b</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span><span class="mi">5</span>

<span class="c1">#pilihan: + / - *</span>
<span class="n">opsi</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s1">&#39;nilai a sama b ingin diapakan? &#39;</span><span class="p">)</span>
<span class="nb">print</span> <span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">opsi</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
</code></pre></div>

<p>output</p>
<pre><code class="plaintext">$ python3 eval.py

nilai a sama b ingin diapakan? +
3 + 5
</code></pre>

<p>Tentu kita tidak bisa bukan, untuk menampilkan hasil dari 3 + 5 tersebut. disinilah kita bisa menggakali nya dengan eval. lihat kode dibawah ini</p>
<div class="highlight"><pre><span></span><code><span class="n">a</span><span class="p">,</span><span class="n">b</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span><span class="mi">5</span>
<span class="c1">#pilihan: + / - *</span>
<span class="n">opsi</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s1">&#39;nilai a sama b ingin diapakan? &#39;</span><span class="p">)</span>

<span class="c1">#f: format string</span>
<span class="nb">print</span> <span class="p">(</span><span class="nb">eval</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">a</span><span class="si">}</span><span class="s1"> </span><span class="si">{</span><span class="n">opsi</span><span class="si">}</span><span class="s1"> </span><span class="si">{</span><span class="n">b</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">))</span>
</code></pre></div>

<p>output</p>
<pre><code class="plaintext">$ python3 eval.py
nilai a sama b ingin diapakan? +
8
</code></pre>

<p>Atau untuk lebih mudah memahaminya</p>
<div class="highlight"><pre><span></span><code><span class="n">var</span> <span class="o">=</span> <span class="s2">&quot;1+1&quot;</span>
<span class="nb">print</span> <span class="p">(</span><span class="n">var</span><span class="p">)</span>
<span class="nb">print</span> <span class="p">(</span><span class="nb">eval</span><span class="p">(</span><span class="n">var</span><span class="p">))</span>
</code></pre></div>

<p>output</p>
<pre><code class="plaintext">$ python3 eval.py
1+1
2
</code></pre>
<p>paham? pahamm lah masa gaa. jadi intinya dia itu bisa ngerubah sebuah string itu menjadi sintaks murni. 
btw Saya juga pernah implementasikan eval ini ke program simple random quiz math buatan saya, bisa cek <a href="https://pastebin.com/ZepZcygQ">disini</a> untuk kodingannya.</p>
<p>Risk/Risiko.</p>
<p>Tapi fungsi ini kurang bagus untuk digunakan jika tidak dipenuhi dengan validasi input atau penanganan yang mumpuni, jadi saya contohin seperti dibawah ini.</p>
<p>semisal dalam program kita itu ada module os yang sudah diimport, bisa saja user itu memasukan sebuah sintaks python untuk memanipulasi program yang sudah kita buat. </p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">os</span>

<span class="n">nama</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s1">&#39;masukan nama: &#39;</span><span class="p">)</span>
<span class="nb">print</span> <span class="p">(</span><span class="nb">eval</span><span class="p">(</span><span class="n">nama</span><span class="p">))</span>
</code></pre></div>

<p>output</p>
<pre><code class="plaintext">$ python3 eval.py

masukan nama: os.system("ls ../")
bin   dev  home  media  opt   root  sbin  sys  usr
boot  etc  lib   mnt    proc  run   srv   tmp  var
</pre>
<p></code></p>
<p>tentu sangat berisiko tinggikan? apalagi program kita itu berbasis web seperti menggunakan framework django, dalam form yang kita buat itu menggunakan fungsi eval, tentu akan mudah heker mengexploitasi web kita.</p>
<p>oke mungkin segini dulu, semoga bermanfaat.</p>
</div>
</div>

<div id="zetmono" class="container">
</div>



<br><br>
<div class="footer text-secondary text-center " style="margin-top:auto;background:transparent">
        <div class="col-lg-12 p-3">
        <div class="row copyright">
            <div class="col-lg-12">
                <p style="font-size:10px">&copy; 2021 Hikode <br>Made with <i class="fa fa-heart"></i> & <i class="fa fa-coffee"></i> </p>
            </div>
        </div>
       </div>
</div>
    <script src="/theme/jquery/jquery.slim.min.js" integrity="sha256-u7e5khyithlIdTpu22PHhENmPcRdFiHRjhAuHcs05RI=" crossorigin="anonymous"></script>
    <script src="/theme/bootstrap/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    <script src="/theme/popper/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
    <script src="/theme/js/highlight.min.js"></script>
	<script>hljs.highlightAll();</script>

</body>
</html>